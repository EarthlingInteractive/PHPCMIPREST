import everything from 'http://ns.nuke24.net/Schema/'
import everything from 'http://ns.nuke24.net/Schema/DataTypeTranslation/'
import everything from 'http://ns.nuke24.net/Schema/Application/'

import 'http://www.w3.org/2000/01/rdf-schema#isSubclassOf' as 'extends'
import 'http://ns.nuke24.net/Schema/RDB/Sequence'
import 'http://ns.nuke24.net/Schema/RDB/initialValue'
import 'http://ns.nuke24.net/Schema/RDB/defaultValueSequence'

sequence 'entity IDs' : initial value @ 1001

class 'integer' :
	SQL type @ "INT" :
	PHP type @ "int" : JSON type @ "number"
class 'boolean' :
	SQL type @ "BOOLEAN" :
	PHP type @ "bool" : JSON type @ "boolean"
class 'string' :
	SQL type @ "VARCHAR(127)" :
	PHP type @ "string" : JSON type @ "string"
class 'text' : extends(string) :
	SQL type @ "TEXT"
class 'entity ID' : extends(integer) :
	SQL type @ "BIGINT"
class 'percentage' : extends(integer) :
    SQL type @ "SMALLINT"

# Standard Rest Resource
class modifier 'SRR' = has a database table : has a REST service : members are public

field modifier 'EIPK' = entity ID : key(primary) : default value sequence @ entity IDs

enum mood {
	'ugh!'
	really bad
	meh
	sort of okay
	nice
	pretty sweet
	'rad!'
}

class 'resource' : SRR {
	ID : EIPK
	URN : string
}

class 'person' : SRR {
	ID : EIPK
	name : string
}

class 'rating' : SRR {
	author : reference(person) {
		ID = author ID : key(primary)
	}
	subject : reference(resource) {
		ID = subject ID : key(primary)
	}
	
	comment          : text       : nullable
	quality rating   : percentage : nullable
	resource is fake : boolean    : nullable
	feeling          : mood       : nullable
}
